<div class="toolbar">
  <button class="btn btn-primary" onclick="openUserModal()" data-i18n="users.newUser">+ Nuevo Usuario</button>
</div>

<div class="table-container">
  <table>
    <thead>
      <tr>
        <th data-i18n="table.id">#</th>
        <th data-i18n="table.name">Nombre</th>
        <th data-i18n="login.email">Email</th>
        <th data-i18n="users.role">Rol</th>
        <th data-i18n="table.status">Estado</th>
        <th data-i18n="table.actions">Acciones</th>
      </tr>
    </thead>
    <tbody id="users-table-body">
      <tr><td colspan="6"><div class="loading-spinner"></div></td></tr>
    </tbody>
  </table>
</div>

<!-- User Modal -->
<div class="modal-overlay" id="user-modal">
  <div class="modal">
    <div class="modal-header">
      <h3 id="user-modal-title" data-i18n="users.newUser">Nuevo Usuario</h3>
      <button class="modal-close" onclick="closeUserModal()">&times;</button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="user-id">
      <div class="form-group">
        <label data-i18n="label.name">Nombre *</label>
        <input type="text" id="user-nombre" class="form-control" required>
      </div>
      <div class="form-group">
        <label data-i18n="login.email">Email *</label>
        <input type="email" id="user-email" class="form-control" required>
      </div>
      <div id="user-password-group" class="form-group">
        <label data-i18n="login.password">Password *</label>
        <input type="password" id="user-password" class="form-control" minlength="6">
      </div>
      <div class="form-group">
        <label data-i18n="users.role">Rol</label>
        <select id="user-rol" class="form-control">
          <option value="cajero">Cajero</option>
          <option value="admin">Admin</option>
        </select>
      </div>
      <div id="user-activo-group" class="form-group" style="display:none">
        <label data-i18n="table.status">Estado</label>
        <select id="user-activo" class="form-control">
          <option value="true">Activo</option>
          <option value="false">Inactivo</option>
        </select>
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeUserModal()" data-i18n="btn.cancel">Cancelar</button>
      <button class="btn btn-primary" id="user-save-btn" onclick="saveUser()" data-i18n="btn.save">Guardar</button>
    </div>
  </div>
</div>

<!-- Reset Password Modal -->
<div class="modal-overlay" id="reset-modal">
  <div class="modal">
    <div class="modal-header">
      <h3 data-i18n="users.resetPassword">Resetear Password</h3>
      <button class="modal-close" onclick="closeResetModal()">&times;</button>
    </div>
    <div class="modal-body">
      <input type="hidden" id="reset-user-id">
      <p id="reset-user-name" style="margin-bottom:12px;font-weight:600"></p>
      <div class="form-group">
        <label data-i18n="users.newPassword">Nueva Password *</label>
        <input type="password" id="reset-password" class="form-control" minlength="6">
      </div>
    </div>
    <div class="modal-footer">
      <button class="btn btn-secondary" onclick="closeResetModal()" data-i18n="btn.cancel">Cancelar</button>
      <button class="btn btn-primary" id="reset-save-btn" onclick="doResetPassword()" data-i18n="btn.save">Guardar</button>
    </div>
  </div>
</div>
